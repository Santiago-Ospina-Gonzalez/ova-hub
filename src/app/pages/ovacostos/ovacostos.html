<header class="site-header fade-in" role="banner">
  <div class="container header-inner">
    <a class="brand" routerLink="/home-ova" aria-label="Volver al inicio">
      <span class="brand-logo logo-glass"><img src="https://la.mathworks.com/academia/tah-portal/unidad-central-del-valle-del-cauca-31432630/_jcr_content/schoolLogo.adapt.full.medium.png/1742541962400.png" alt="Logo Plataforma" class="logo-img" /></span>
      <span class="brand-name">Plataforma</span>
    </a>
    <nav class="main-nav" role="navigation" aria-label="Men√∫ principal">
      <ul>
        <li><a routerLink="/home-ova">OVAs</a></li>
        <li><a routerLink="/home-ova#about">Acerca</a></li>
        <li><a class="cta" routerLink="/home-ova#contact">Contacto</a></li>
      </ul>
    </nav>
  </div>
</header>


<main class="fade-in">
  <section class="section hero single-hero fade-in">
    <div class="container">
      <h1>OVA: Costos y Presupuestos</h1>
      <p class="lead">
        Aprende a calcular costos, presupuestos y punto de equilibrio con ejemplos pr√°cticos y plantillas.
      </p>
    </div>
  </section>
  <div class="ova-extra" aria-hidden="true">
    <div class="ova-banner ova-costos-art"></div>
  </div>

  <section class="section">
    <div class="container">
      <h2>¬øQu√© son los costos?</h2>
      <p>
        Los costos representan el valor econ√≥mico de los recursos consumidos para producir bienes o servicios.
        Se clasifican principalmente en costos fijos y variables.
      </p>

      <h3>¬øPara qu√© sirve conocerlos?</h3>
      <p class="small muted">
        Permite tomar decisiones sobre precios, niveles de producci√≥n y evaluar la rentabilidad de un proyecto o negocio.
      </p>

      <h3>¬øC√≥mo funcionan?</h3>
      <p class="small muted">
        Los costos fijos no cambian con el volumen de producci√≥n (ej. renta), mientras que los variables cambian en funci√≥n
        de la producci√≥n (ej. materia prima). El punto de equilibrio indica el volumen donde ingresos = costos totales.
      </p>

      <div class="explain-grid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-top:18px">
        <div class="feature">
          <h4>Costos fijos</h4>
          <p class="small muted">Ej: renta, seguros, salarios administrativos.</p>
        </div>
        <div class="feature">
          <h4>Costos variables</h4>
          <p class="small muted">Ej: materia prima, comisiones por venta.</p>
        </div>
      </div>

      <!-- üöÄ FORMULARIO FUNCIONAL CONECTADO AL MICROSERVICIO -->
      <div class="simulator-card">
        <form class="sim-form" (ngSubmit)="calcular()" #formulario="ngForm">
          <div class="row">
            <div class="col">
              <label class="small">Costo fijo total</label>
              <input
                class="input"
                type="number"
                step="any"
                name="cfijo"
                [(ngModel)]="cfijo"
                placeholder="Ej: 50000"
                required
              />
            </div>
            <div class="col">
              <label class="small">Costo variable por unidad</label>
              <input
                class="input"
                type="number"
                step="any"
                name="cvariable"
                [(ngModel)]="cvariable"
                placeholder="Ej: 2000"
                required
              />
            </div>
            <div class="col">
              <label class="small">Costo indirecto</label>
              <input
                class="input"
                type="number"
                step="any"
                name="cindirecto"
                [(ngModel)]="cindirecto"
                placeholder="Ej: 10000"
                required
              />
            </div>
          </div>

          <div class="row" style="margin-top:12px">
            <div class="col">
              <label class="small">Unidades</label>
              <input
                class="input"
                type="number"
                name="unidades"
                [(ngModel)]="unidades"
                placeholder="Ej: 50"
                required
              />
            </div>
            <div class="col">
              <label class="small">Margen de ganancia (%)</label>
              <input
                class="input"
                type="number"
                name="margen"
                [(ngModel)]="margen"
                placeholder="Ej: 25"
                required
              />
            </div>
          </div>

          <div class="row" style="margin-top:12px;align-items:center">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="small muted">C√°lculo: utiliza tu microservicio real.</div>
            </div>
            <div style="margin-left:auto;display:flex;gap:12px">
              <button class="btn btn-primary" type="submit">Calcular</button>
              <button class="btn btn-outline" type="reset" (click)="resultado = null">Reset</button>
            </div>
          </div>

          <div
            *ngIf="resultado"
            class="result"
            style="margin-top:18px;padding:14px;border-radius:10px;background:var(--purple-50);box-shadow:var(--shadow-1)"
          >
            <strong>Resultados:</strong>
            <div class="small muted">Costo total: {{ resultado.costo_total }}</div>
            <div class="small muted">Costo unitario: {{ resultado.costo_unitario }}</div>
            <div class="small muted">Margen de ganancia: {{ resultado.margen_ganancia }}</div>
            <div class="small muted">Precio de venta: {{ resultado.precio_venta }}</div>
          </div>
        </form>
      </div>
    </div>
  </section>
  <div class="back-final"><button class="back-btn" (click)="goBack()">‚Üê Volver</button></div>
</main>

<footer class="site-footer" role="contentinfo">
  <div class="container footer-inner">
    <div>
      <strong>Plataforma OVA</strong>
      <p class="muted">Volver a <a routerLink="/home-ova">Inicio</a></p>
    </div>
    <nav aria-label="pie de p√°gina">
      <a href="#">Privacidad</a>
      <a href="#">T√©rminos</a>
    </nav>
  </div>
</footer>
